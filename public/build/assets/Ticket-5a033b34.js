import{_ as w,r as u,o as t,c as o,a as e,j as m,v as k,b as r,F as f,e as I,t as b,g as x,l as S,s as B,x as N}from"./app-f68e4f94.js";import{i as y}from"./http-3b0c5ff6.js";const a=_=>(B("data-v-37623621"),_=_(),N(),_),U=a(()=>e("div",null,[e("h3",null,"发工单")],-1)),D=a(()=>e("h5",null,"有遇到什么问题吗？",-1)),F=x(" 您可以选择以下常见问题： "),M=x("   "),j={class:"input-group mb-3"},E={key:0,class:"input-group"},L={key:1},R={key:0},q=a(()=>e("h5",{class:"mt-3"},"选择发工单的平台",-1)),z=a(()=>e("p",null,"如果您在选中的平台没有账号，我们将会帮您自动创建一个。",-1)),A={class:"form-group form-check"},G=["id","value"],H=["for","textContent"],J={key:1},K=a(()=>e("h5",{class:"mt-3"},"暂时没有可用的提供商",-1)),O=[K],P={key:2},Q=["disabled","textContent"],W={key:0},X={key:1,class:"mt-3"},Y=a(()=>e("h5",null,"完成",-1)),Z=a(()=>e("p",null,"如果您浏览器没有打开新的创建，请点击以下链接来打开。",-1)),$=["href"],ee={name:"Ticket",setup(_){const c=u([]),v=u(""),l=u(""),n=u(""),p=u(""),d=u(!1);y.get("providers").then(h=>{c.value=h.data,c.value.length>0&&(v.value=c.value[0])});function g(){d.value=!0,y.post("providers/"+v.value+"/ticket",{title:l.value,content:n.value}).then(h=>{p.value=h.data.redirect_url,setTimeout(()=>{window.open(p.value,"_blank")})}).finally(()=>{d.value=!1})}function C(){l.value="域名 {你的域名} 过白。",n.value="您好，我的域名已备案，请将我的域名 {你的域名} 加入白名单，谢谢。"}function T(){l.value="{节点} 的隧道无法连接。",n.value="您好，这个节点无法连接，请检查。"}return(h,i)=>(t(),o(f,null,[U,e("div",null,[D,e("div",{class:"mb-3"},[F,e("a",{class:"link",onClick:C},"域名白名单"),M,e("a",{class:"link",onClick:T},"映射问题")]),e("div",j,[m(e("input",{"onUpdate:modelValue":i[0]||(i[0]=s=>l.value=s),autofocus:"",class:"form-control",placeholder:"简要概述您遇到的问题",type:"text"},null,512),[[k,l.value]])]),l.value?(t(),o("div",E,[m(e("textarea",{"onUpdate:modelValue":i[1]||(i[1]=s=>n.value=s),class:"form-control",placeholder:"详细说明您遇到的问题..."},null,512),[[k,n.value]])])):r("",!0),l.value?(t(),o("div",L,[c.value?(t(),o("div",R,[q,z,(t(!0),o(f,null,I(c.value,s=>(t(),o("div",A,[m(e("input",{id:"providers_"+s,"onUpdate:modelValue":i[2]||(i[2]=V=>v.value=V),value:s,class:"form-check-input",name:"provider",type:"radio"},null,8,G),[[S,v.value,void 0,{value:!0}]]),e("label",{for:"providers_"+s,class:"form-check-label",textContent:b(s)},null,8,H)]))),256))])):(t(),o("div",J,O)),n.value?(t(),o("div",P,[e("button",{disabled:d.value,class:"btn btn-primary mt-3",onClick:g,textContent:b(d.value?"请稍后":"创建工单")},null,8,Q)])):r("",!0)])):r("",!0)]),d.value?(t(),o("p",W,"正在打开工单...")):r("",!0),p.value?(t(),o("div",X,[Y,Z,e("a",{href:p.value,class:"link",target:"_blank"},"打开工单",8,$)])):r("",!0)],64))}},se=w(ee,[["__scopeId","data-v-37623621"]]);export{se as default};
